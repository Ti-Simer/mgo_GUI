<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6">

    <!-- Título -->
    <div class="text-center w-full justify-center">
        <h2 class="text-2xl sm:text-3xl font-bold text-sky-800">
            {{ 'Registro de derroteros' | translate }}
        </h2>
        <br>
        <p class="mt-3 text-sm text-gray-500 font-light leading-relaxed mx-auto">
            {{ 'Los registros de derrotero contienen información clave sobre los cargues realizados durante la ejecución de una ruta. Entre los datos más relevantes se incluyen: la cantidad de pedidos en curso y finalizados, el volumen de producto entregado, el responsable asignado a la ruta, la última fecha de actualización del registro, entre otros' | translate }}.
        </p>
        <hr class="w-24 mx-auto mt-4 border-gray-300">
    </div>


    <!-- Buscador por fecha -->
    <div class="flex flex-col items-center justify-center gap-3 sm:flex-row sm:justify-center"
        [formGroup]="courselogform">
        <input type="date" formControlName="date"
            class="border border-gray-300 rounded-md px-3 py-2 text-sm w-64 focus:outline-none focus:ring-2 focus:ring-sky-500" />

        <button type="submit" [disabled]="!courselogform.valid" (click)="onSubmit()"
            class="flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm w-64 sm:w-auto transition disabled:opacity-50 disabled:cursor-not-allowed">
            <lucide-icon name="search" [size]="20"></lucide-icon>
            {{ 'Buscar' | translate }}
        </button>
    </div>

    <!-- Tabla de resultados -->
    <div *ngIf="courseLogs.length > 0" class="overflow-x-auto mt-6">
        <table
            class="min-w-full border border-gray-300 divide-y divide-gray-200 text-sm text-left bg-white rounded-lg overflow-hidden shadow-sm">
            <thead class="bg-gray-100 text-gray-700 font-semibold">
                <tr>
                    <th class="px-4 py-3 cursor-pointer" (click)="sortData('plate')">{{ 'Placa' | translate }}</th>
                    <th class="px-4 py-3 cursor-pointer" (click)="sortData('operator')">{{ 'Operador' | translate }}
                    </th>
                    <th class="px-4 py-3 cursor-pointer" (click)="sortData('creator')">{{ 'Responsable' | translate }}
                    </th>
                    <th class="px-4 py-3 cursor-pointer" (click)="sortData('scheduling_date')">{{ 'Fecha de programación' | translate }}</th>
                    <th class="px-4 py-3 cursor-pointer" (click)="sortData('charges')">{{ 'Cargues' | translate }}</th>
                    <th class="px-4 py-3 cursor-pointer" (click)="sortData('create')">{{ 'Creación' | translate }}</th>
                    <th class="px-4 py-3 cursor-pointer" (click)="sortData('update')">{{ 'Actualización' | translate }}
                    </th>
                    <th class="px-4 py-3">{{ 'Acciones' | translate }}</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-gray-200">
                <tr *ngFor="let courseLog of courseLogs" class="hover:bg-gray-50">
                    <td class="px-4 py-2 text-gray-800">{{ courseLog.plate }}</td>
                    <td class="px-4 py-2 text-gray-800">{{ courseLog.operator }}</td>
                    <td class="px-4 py-2 text-gray-800">{{ courseLog.creator }}</td>
                    <td class="px-4 py-2 text-gray-800">{{ courseLog.scheduling_date }}</td>
                    <td class="px-4 py-2 text-gray-800">{{ courseLog.charges }}</td>
                    <td class="px-4 py-2 text-gray-800">{{ courseLog.create | date: 'medium' }}</td>
                    <td class="px-4 py-2 text-gray-800">{{ courseLog.update | date: 'medium' }}</td>
                    <td class="px-4 py-2">
                        <button class="bg-sky-500 hover:bg-sky-600 text-white px-3 py-1 rounded text-xs"
                            (click)="toViewCourseLog(courseLog)">
                            {{ 'ver' | translate }}
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

</div>