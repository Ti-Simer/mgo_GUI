<div class="general-container">
  <div class="text-sm origin-top-left transform">
    <div class="container flex flex-col items-center gap-4" *ngIf="data.length > 0">

      <!-- Botón para cambiar de modo -->
      <button (click)="toggleViewMode()"
        class="flex items-center gap-2 px-3 py-1 bg-slate-200 hover:bg-slate-300 rounded shadow text-sm text-slate-700 transition">
        <svg *ngIf="viewMode === 'list'" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none"
          viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path d="M12 3v18" />
          <path d="M3 12h18" />
          <rect x="3" y="3" width="18" height="18" rx="2" />
        </svg>
        <svg *ngIf="viewMode === 'grid'" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none"
          viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <line x1="4" y1="6" x2="20" y2="6" />
          <line x1="4" y1="12" x2="20" y2="12" />
          <line x1="4" y1="18" x2="20" y2="18" />
        </svg>
        {{ viewMode === 'grid' ? 'Modo listado' : 'Modo tarjetas' | translate }}
      </button>

      <!-- GRID - Varios -->
      <div *ngIf="viewMode === 'grid' && data.length > 1"
        class="max-h-[500px] overflow-y-auto scrollbar-thin scrollbar-thumb-slate-400 scrollbar-track-slate-200 pr-2 rounded-md w-full">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 max-w-6xl w-full mx-auto">
          <ng-container *ngFor="let propaneTruck of data">
            <div class="p-1">
              <div
                class="flex justify-between p-3 bg-white rounded-xl shadow hover:shadow-md transition-shadow text-xs border-l-4"
                  [ngClass]="{
                    'border-green-600': propaneTruck.last_criticality === 0,
                    'border-orange-400': propaneTruck.last_criticality === 1,
                    'border-red-600': propaneTruck.last_criticality === 2
                  }">
                <!-- Columna izquierda -->
                <div class="w-1/2" id="items2">
                  <div class="mb-2 flex justify-center">
                    <div [ngClass]="{
                      'color-changing-square-green': propaneTruck.last_criticality === 0,
                      'color-changing-square-orange': propaneTruck.last_criticality === 1,
                      'color-changing-square-red': propaneTruck.last_criticality === 2
                    }" class="rounded flex justify-center items-center shadow-sm w-4 h-4"><svg version="1.0" xmlns="http://www.w3.org/2000/svg"
                    width="128px" height="128px" viewBox="0 0 1019.000000 530.000000"
                    preserveAspectRatio="xMidYMid meet">
                    <g transform="translate(0.000000,530.000000) scale(0.100000,-0.100000)"
                    fill="#ffffff" stroke="none">
                    <path d="M3280 4992 c-103 -30 -200 -155 -200 -258 0 -12 -9 -32 -19 -45 l-19
                    -24 -1174 -5 c-1280 -5 -1191 -1 -1280 -66 -128 -94 -216 -285 -288 -628 l-30
                    -139 0 -382 0 -383 30 -143 c39 -186 65 -274 112 -382 21 -48 38 -97 38 -107
                    0 -12 -15 -30 -39 -44 -23 -15 -43 -38 -50 -57 -12 -35 -14 -1195 -2 -1238 3
                    -13 19 -34 34 -45 27 -20 43 -21 292 -24 233 -3 264 -5 278 -20 8 -9 22 -55
                    32 -102 35 -179 133 -339 278 -454 294 -234 724 -208 992 58 117 117 186 244
                    220 407 25 118 -9 109 417 109 355 0 369 -1 388 -20 11 -11 20 -31 20 -44 0
                    -43 50 -199 86 -267 97 -183 279 -327 483 -380 104 -28 268 -28 372 0 269 70
                    480 283 549 555 11 44 20 87 20 98 0 10 9 27 20 38 19 19 33 20 230 20 197 0
                    211 -1 230 -20 11 -11 20 -27 20 -35 0 -24 35 -87 62 -111 12 -12 39 -30 58
                    -40 33 -18 66 -19 530 -19 272 0 512 4 533 8 53 11 120 75 142 135 28 75 38
                    82 117 82 68 0 70 -1 113 -44 49 -48 75 -56 186 -56 80 0 89 -8 124 -110 66
                    -193 193 -341 375 -434 107 -56 179 -75 305 -82 144 -8 244 12 370 75 197 98
                    329 249 395 453 12 36 29 73 38 81 15 14 82 16 527 19 505 3 510 3 552 25 49
                    27 76 59 99 118 21 56 14 95 -32 171 -35 59 -36 60 -41 204 l-6 145 -31 27
                    c-17 16 -41 37 -53 47 l-21 18 -4 704 c-5 703 -5 704 -32 884 -77 515 -240
                    917 -489 1207 -85 98 -119 124 -192 143 -94 24 -497 37 -1030 33 -470 -4 -481
                    -4 -537 -26 -80 -32 -150 -99 -190 -180 l-33 -67 -5 -972 c-5 -900 -6 -974
                    -22 -989 -14 -14 -37 -18 -128 -18 -153 -1 -156 3 -102 126 144 330 195 851
                    131 1343 -50 386 -179 665 -350 760 l-54 30 -1173 5 -1174 5 -18 22 c-10 13
                    -21 45 -25 72 -14 104 -103 205 -207 236 -77 22 -669 21 -748 -3z m684 -173
                    c51 -14 86 -53 86 -94 0 -59 -4 -60 -324 -63 -324 -4 -428 2 -452 26 -34 33 9
                    113 70 131 45 13 573 13 620 0z m2625 -353 c108 -56 205 -275 249 -562 55
                    -351 55 -577 0 -928 -47 -303 -152 -527 -266 -568 -30 -11 -579 -13 -2922 -13
                    -2678 0 -2887 1 -2916 17 -121 66 -213 279 -266 611 -32 202 -32 603 0 817 49
                    324 139 551 245 615 l42 25 2903 0 c2503 0 2907 -2 2931 -14z m2227 -17 c97
                    -13 120 -25 179 -91 190 -216 344 -566 424 -968 52 -260 54 -287 58 -1018 4
                    -648 3 -695 -13 -713 -16 -18 -35 -19 -351 -19 l-334 0 -112 114 c-123 124
                    -196 178 -324 238 -278 130 -616 127 -885 -8 -74 -37 -112 -43 -122 -18 -3 9
                    -6 542 -6 1185 0 1130 1 1171 19 1207 24 46 60 81 97 92 44 13 1277 12 1370
                    -1z m-1696 -2249 c19 -19 20 -33 20 -224 l0 -204 -37 -53 c-20 -30 -53 -79
                    -74 -109 -44 -65 -101 -199 -125 -294 -24 -97 -36 -106 -133 -106 -110 0 -111
                    1 -111 195 0 171 -7 205 -52 259 -63 77 -51 76 -607 76 -342 0 -505 -4 -532
                    -11 -50 -15 -105 -62 -129 -110 -17 -33 -20 -59 -20 -199 0 -156 -6 -194 -34
                    -212 -19 -13 -151 -9 -170 5 -9 7 -28 52 -42 102 -52 183 -130 319 -263 458
                    -142 148 -291 234 -496 287 -115 30 -127 31 -275 27 -169 -5 -248 -21 -389
                    -80 -153 -63 -327 -203 -427 -343 -57 -80 -138 -251 -160 -337 -9 -37 -25 -79
                    -36 -92 -18 -24 -25 -25 -122 -25 -66 0 -108 4 -118 13 -9 6 -36 71 -60 142
                    -94 281 -266 485 -521 616 -149 76 -289 109 -467 109 -147 0 -226 -12 -345
                    -53 -314 -108 -540 -342 -646 -670 -49 -150 -60 -162 -141 -155 -34 4 -56 12
                    -65 24 -10 14 -13 111 -13 479 0 476 1 484 40 498 8 3 1481 6 3273 6 3244 1
                    3257 1 3277 -19z m-5175 -322 c166 -43 294 -118 416 -244 83 -87 149 -190 185
                    -290 30 -81 31 -120 4 -134 -29 -16 -53 1 -75 52 -78 184 -123 256 -214 341
                    -109 101 -233 161 -399 192 -101 20 -135 19 -250 -5 -281 -57 -466 -211 -577
                    -480 -45 -107 -73 -132 -106 -91 -21 26 -18 54 18 151 34 93 105 201 182 278
                    215 219 523 305 816 230z m2320 1 c178 -45 274 -99 406 -229 101 -100 154
                    -179 203 -302 32 -82 34 -123 5 -138 -34 -19 -64 10 -88 82 -121 364 -524 588
                    -892 497 -260 -64 -471 -258 -549 -504 -16 -51 -37 -75 -66 -75 -37 0 -46 29
                    -28 96 64 246 279 467 541 554 160 53 308 59 468 19z m3770 17 c185 -28 344
                    -107 475 -236 122 -121 202 -263 237 -423 18 -84 13 -123 -19 -133 -30 -9 -64
                    32 -73 88 -27 160 -135 342 -267 447 -280 224 -664 227 -946 7 -146 -115 -241
                    -273 -282 -470 -12 -59 -35 -82 -70 -71 -40 13 -37 69 11 220 77 243 286 453
                    533 536 143 48 253 58 401 35z m-6112 -299 c245 -89 390 -293 391 -552 1 -128
                    -25 -214 -95 -319 -90 -136 -228 -224 -395 -253 -80 -13 -96 -13 -179 2 -127
                    23 -221 71 -311 160 -327 322 -168 877 281 981 86 20 225 11 308 -19z m2324
                    -2 c147 -46 270 -152 338 -291 173 -349 -39 -760 -427 -831 -81 -14 -94 -14
                    -183 2 -125 22 -216 68 -304 150 -172 163 -226 383 -150 612 66 199 255 353
                    474 387 57 8 178 -5 252 -29z m3815 9 c211 -63 364 -226 412 -441 20 -89 20
                    -149 1 -233 -22 -92 -40 -135 -92 -213 -121 -182 -356 -282 -570 -242 -132 25
                    -222 72 -313 164 -116 118 -170 246 -170 406 0 162 53 290 169 406 97 97 205
                    153 336 173 49 7 170 -4 227 -20z m-1605 -67 c16 -16 18 -41 18 -272 0 -231
                    -2 -256 -18 -272 -16 -17 -49 -18 -473 -18 -439 0 -456 1 -470 19 -11 16 -14
                    70 -14 270 0 138 4 256 8 263 19 29 66 32 494 30 405 -2 439 -3 455 -20z
                    m3114 -106 c16 -19 19 -40 19 -124 0 -82 4 -109 21 -145 18 -37 19 -46 8 -53
                    -17 -10 -629 -12 -645 -1 -19 12 -31 45 -43 113 -6 36 -18 88 -26 115 -8 27
                    -15 61 -15 76 0 28 3 30 70 42 14 2 153 3 308 3 l284 -2 19 -24z"/>
                    <path d="M7535 4306 c-14 -14 -26 -41 -30 -67 -3 -24 -5 -242 -3 -484 3 -497
                    0 -475 81 -513 136 -64 587 -208 867 -277 117 -29 359 -75 393 -75 4 0 16 -9
                    27 -20 16 -16 20 -33 20 -94 0 -84 9 -115 41 -145 20 -19 35 -21 133 -21 91 0
                    117 4 153 21 52 25 99 80 115 134 16 55 13 275 -6 418 -60 448 -200 822 -399
                    1061 -76 90 -36 86 -745 86 l-623 0 -24 -24z m1225 -169 c91 -44 250 -363 321
                    -640 24 -95 19 -116 -38 -146 -79 -42 -115 -90 -139 -182 -19 -77 -28 -89 -64
                    -89 -181 0 -1074 256 -1137 326 -23 25 -23 26 -23 370 0 336 0 344 21 365 21
                    21 24 21 522 17 451 -3 506 -5 537 -21z m379 -996 c17 -30 26 -293 12 -319
                    -17 -33 -59 -29 -72 6 -16 40 -8 294 10 315 18 22 38 21 50 -2z"/>
                    <path d="M7635 2968 c-44 -16 -93 -55 -112 -91 -26 -49 -25 -199 3 -252 23
                    -45 69 -80 123 -95 57 -16 319 -13 377 5 92 27 134 96 134 220 0 115 -48 190
                    -138 215 -48 13 -348 12 -387 -2z m313 -184 c29 -20 25 -54 -8 -71 -29 -15
                    -187 -17 -223 -4 -29 11 -40 36 -27 61 12 23 32 27 145 29 68 1 96 -3 113 -15z"/>
                    <path d="M1607 1460 c-157 -50 -265 -176 -298 -348 -15 -81 0 -177 42 -261 33
                    -66 123 -157 187 -190 166 -85 356 -59 494 68 117 107 164 273 124 431 -38
                    149 -154 266 -302 305 -77 20 -176 18 -247 -5z m231 -186 c124 -51 185 -207
                    128 -329 -42 -91 -128 -148 -226 -148 -140 -1 -250 108 -250 248 0 97 50 178
                    139 225 46 24 156 27 209 4z"/>
                    <path d="M3938 1461 c-209 -69 -334 -271 -299 -482 41 -249 293 -418 528 -355
                    176 47 302 184 333 363 30 174 -82 373 -256 455 -87 41 -217 49 -306 19z m230
                    -187 c139 -57 193 -240 109 -365 -106 -158 -342 -147 -430 21 -25 48 -28 63
                    -25 126 4 94 40 155 118 202 47 28 63 32 122 32 39 0 85 -7 106 -16z"/>
                    </g>
                    </svg>
                  </div>
                  </div>
                  <div class="text-white text-center" *ngIf="!propaneTruck.last_delivery">
                    {{ 'Sin entregas' | translate }}
                  </div>
                  <div class="text-white text-center" *ngIf="propaneTruck.last_delivery">
                    {{ propaneTruck.last_delivery }}
                  </div>
                </div>
                <!-- Columna derecha -->
                <div class="bg-white text-gray-700 p-2 rounded shadow-sm w-1/2" id="items2">
                  <span class="font-semibold m-0 truncate">{{ propaneTruck.plate }}</span><br />
                  <span class="truncate m-0" title="{{ propaneTruck.operator }}">{{ propaneTruck.operator | truncate:13 }}</span><br />
                  <hr class="my-1 w-3/4 mx-auto border-gray-300" />
                  <div class="space-y-1">
                    <span class="m-0">{{ 'Masa' | translate }}: {{ propaneTruck.delivered_mass }} Kg</span><br />
                    <span class="m-0">{{ 'Volumen' | translate }}: {{ propaneTruck.delivered_volume }} Gl</span><br />
                    <span class="m-0">{{ 'Pedidos' | translate }}: {{ propaneTruck.orders.length }} / {{ propaneTruck.completed_orders.length }}</span>
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
        </div>
      </div>

      <!-- GRID - Único -->
      <div *ngIf="viewMode === 'grid' && data.length === 1"
        class="flex justify-center w-full grid grid-cols-1 max-w-3xl mx-auto">
        <div class="w-full sm:w-1/2 p-1" *ngFor="let propaneTruck of data">
          <div
            class="flex justify-between p-3 bg-white rounded-xl shadow hover:shadow-md transition-shadow text-xs border-l-4"
              [ngClass]="{
                'border-green-600': propaneTruck.last_criticality === 0,
                'border-orange-400': propaneTruck.last_criticality === 1,
                'border-red-600': propaneTruck.last_criticality === 2
              }">
            <!-- Columna izquierda -->
            <div class="w-1/2" id="items2">
              <div class="mb-2 flex justify-center">
                <div [ngClass]="{
                  'color-changing-square-green': propaneTruck.last_criticality === 0,
                  'color-changing-square-orange': propaneTruck.last_criticality === 1,
                  'color-changing-square-red': propaneTruck.last_criticality === 2
                }" class="rounded shadow-sm flex justify-center items-center w-4 h-4">
                    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
                    width="128px" height="128px" viewBox="0 0 1019.000000 530.000000"
                    preserveAspectRatio="xMidYMid meet">
                    <g transform="translate(0.000000,530.000000) scale(0.100000,-0.100000)"
                    fill="#ffffff" stroke="none">
                    <path d="M3280 4992 c-103 -30 -200 -155 -200 -258 0 -12 -9 -32 -19 -45 l-19
                    -24 -1174 -5 c-1280 -5 -1191 -1 -1280 -66 -128 -94 -216 -285 -288 -628 l-30
                    -139 0 -382 0 -383 30 -143 c39 -186 65 -274 112 -382 21 -48 38 -97 38 -107
                    0 -12 -15 -30 -39 -44 -23 -15 -43 -38 -50 -57 -12 -35 -14 -1195 -2 -1238 3
                    -13 19 -34 34 -45 27 -20 43 -21 292 -24 233 -3 264 -5 278 -20 8 -9 22 -55
                    32 -102 35 -179 133 -339 278 -454 294 -234 724 -208 992 58 117 117 186 244
                    220 407 25 118 -9 109 417 109 355 0 369 -1 388 -20 11 -11 20 -31 20 -44 0
                    -43 50 -199 86 -267 97 -183 279 -327 483 -380 104 -28 268 -28 372 0 269 70
                    480 283 549 555 11 44 20 87 20 98 0 10 9 27 20 38 19 19 33 20 230 20 197 0
                    211 -1 230 -20 11 -11 20 -27 20 -35 0 -24 35 -87 62 -111 12 -12 39 -30 58
                    -40 33 -18 66 -19 530 -19 272 0 512 4 533 8 53 11 120 75 142 135 28 75 38
                    82 117 82 68 0 70 -1 113 -44 49 -48 75 -56 186 -56 80 0 89 -8 124 -110 66
                    -193 193 -341 375 -434 107 -56 179 -75 305 -82 144 -8 244 12 370 75 197 98
                    329 249 395 453 12 36 29 73 38 81 15 14 82 16 527 19 505 3 510 3 552 25 49
                    27 76 59 99 118 21 56 14 95 -32 171 -35 59 -36 60 -41 204 l-6 145 -31 27
                    c-17 16 -41 37 -53 47 l-21 18 -4 704 c-5 703 -5 704 -32 884 -77 515 -240
                    917 -489 1207 -85 98 -119 124 -192 143 -94 24 -497 37 -1030 33 -470 -4 -481
                    -4 -537 -26 -80 -32 -150 -99 -190 -180 l-33 -67 -5 -972 c-5 -900 -6 -974
                    -22 -989 -14 -14 -37 -18 -128 -18 -153 -1 -156 3 -102 126 144 330 195 851
                    131 1343 -50 386 -179 665 -350 760 l-54 30 -1173 5 -1174 5 -18 22 c-10 13
                    -21 45 -25 72 -14 104 -103 205 -207 236 -77 22 -669 21 -748 -3z m684 -173
                    c51 -14 86 -53 86 -94 0 -59 -4 -60 -324 -63 -324 -4 -428 2 -452 26 -34 33 9
                    113 70 131 45 13 573 13 620 0z m2625 -353 c108 -56 205 -275 249 -562 55
                    -351 55 -577 0 -928 -47 -303 -152 -527 -266 -568 -30 -11 -579 -13 -2922 -13
                    -2678 0 -2887 1 -2916 17 -121 66 -213 279 -266 611 -32 202 -32 603 0 817 49
                    324 139 551 245 615 l42 25 2903 0 c2503 0 2907 -2 2931 -14z m2227 -17 c97
                    -13 120 -25 179 -91 190 -216 344 -566 424 -968 52 -260 54 -287 58 -1018 4
                    -648 3 -695 -13 -713 -16 -18 -35 -19 -351 -19 l-334 0 -112 114 c-123 124
                    -196 178 -324 238 -278 130 -616 127 -885 -8 -74 -37 -112 -43 -122 -18 -3 9
                    -6 542 -6 1185 0 1130 1 1171 19 1207 24 46 60 81 97 92 44 13 1277 12 1370
                    -1z m-1696 -2249 c19 -19 20 -33 20 -224 l0 -204 -37 -53 c-20 -30 -53 -79
                    -74 -109 -44 -65 -101 -199 -125 -294 -24 -97 -36 -106 -133 -106 -110 0 -111
                    1 -111 195 0 171 -7 205 -52 259 -63 77 -51 76 -607 76 -342 0 -505 -4 -532
                    -11 -50 -15 -105 -62 -129 -110 -17 -33 -20 -59 -20 -199 0 -156 -6 -194 -34
                    -212 -19 -13 -151 -9 -170 5 -9 7 -28 52 -42 102 -52 183 -130 319 -263 458
                    -142 148 -291 234 -496 287 -115 30 -127 31 -275 27 -169 -5 -248 -21 -389
                    -80 -153 -63 -327 -203 -427 -343 -57 -80 -138 -251 -160 -337 -9 -37 -25 -79
                    -36 -92 -18 -24 -25 -25 -122 -25 -66 0 -108 4 -118 13 -9 6 -36 71 -60 142
                    -94 281 -266 485 -521 616 -149 76 -289 109 -467 109 -147 0 -226 -12 -345
                    -53 -314 -108 -540 -342 -646 -670 -49 -150 -60 -162 -141 -155 -34 4 -56 12
                    -65 24 -10 14 -13 111 -13 479 0 476 1 484 40 498 8 3 1481 6 3273 6 3244 1
                    3257 1 3277 -19z m-5175 -322 c166 -43 294 -118 416 -244 83 -87 149 -190 185
                    -290 30 -81 31 -120 4 -134 -29 -16 -53 1 -75 52 -78 184 -123 256 -214 341
                    -109 101 -233 161 -399 192 -101 20 -135 19 -250 -5 -281 -57 -466 -211 -577
                    -480 -45 -107 -73 -132 -106 -91 -21 26 -18 54 18 151 34 93 105 201 182 278
                    215 219 523 305 816 230z m2320 1 c178 -45 274 -99 406 -229 101 -100 154
                    -179 203 -302 32 -82 34 -123 5 -138 -34 -19 -64 10 -88 82 -121 364 -524 588
                    -892 497 -260 -64 -471 -258 -549 -504 -16 -51 -37 -75 -66 -75 -37 0 -46 29
                    -28 96 64 246 279 467 541 554 160 53 308 59 468 19z m3770 17 c185 -28 344
                    -107 475 -236 122 -121 202 -263 237 -423 18 -84 13 -123 -19 -133 -30 -9 -64
                    32 -73 88 -27 160 -135 342 -267 447 -280 224 -664 227 -946 7 -146 -115 -241
                    -273 -282 -470 -12 -59 -35 -82 -70 -71 -40 13 -37 69 11 220 77 243 286 453
                    533 536 143 48 253 58 401 35z m-6112 -299 c245 -89 390 -293 391 -552 1 -128
                    -25 -214 -95 -319 -90 -136 -228 -224 -395 -253 -80 -13 -96 -13 -179 2 -127
                    23 -221 71 -311 160 -327 322 -168 877 281 981 86 20 225 11 308 -19z m2324
                    -2 c147 -46 270 -152 338 -291 173 -349 -39 -760 -427 -831 -81 -14 -94 -14
                    -183 2 -125 22 -216 68 -304 150 -172 163 -226 383 -150 612 66 199 255 353
                    474 387 57 8 178 -5 252 -29z m3815 9 c211 -63 364 -226 412 -441 20 -89 20
                    -149 1 -233 -22 -92 -40 -135 -92 -213 -121 -182 -356 -282 -570 -242 -132 25
                    -222 72 -313 164 -116 118 -170 246 -170 406 0 162 53 290 169 406 97 97 205
                    153 336 173 49 7 170 -4 227 -20z m-1605 -67 c16 -16 18 -41 18 -272 0 -231
                    -2 -256 -18 -272 -16 -17 -49 -18 -473 -18 -439 0 -456 1 -470 19 -11 16 -14
                    70 -14 270 0 138 4 256 8 263 19 29 66 32 494 30 405 -2 439 -3 455 -20z
                    m3114 -106 c16 -19 19 -40 19 -124 0 -82 4 -109 21 -145 18 -37 19 -46 8 -53
                    -17 -10 -629 -12 -645 -1 -19 12 -31 45 -43 113 -6 36 -18 88 -26 115 -8 27
                    -15 61 -15 76 0 28 3 30 70 42 14 2 153 3 308 3 l284 -2 19 -24z"/>
                    <path d="M7535 4306 c-14 -14 -26 -41 -30 -67 -3 -24 -5 -242 -3 -484 3 -497
                    0 -475 81 -513 136 -64 587 -208 867 -277 117 -29 359 -75 393 -75 4 0 16 -9
                    27 -20 16 -16 20 -33 20 -94 0 -84 9 -115 41 -145 20 -19 35 -21 133 -21 91 0
                    117 4 153 21 52 25 99 80 115 134 16 55 13 275 -6 418 -60 448 -200 822 -399
                    1061 -76 90 -36 86 -745 86 l-623 0 -24 -24z m1225 -169 c91 -44 250 -363 321
                    -640 24 -95 19 -116 -38 -146 -79 -42 -115 -90 -139 -182 -19 -77 -28 -89 -64
                    -89 -181 0 -1074 256 -1137 326 -23 25 -23 26 -23 370 0 336 0 344 21 365 21
                    21 24 21 522 17 451 -3 506 -5 537 -21z m379 -996 c17 -30 26 -293 12 -319
                    -17 -33 -59 -29 -72 6 -16 40 -8 294 10 315 18 22 38 21 50 -2z"/>
                    <path d="M7635 2968 c-44 -16 -93 -55 -112 -91 -26 -49 -25 -199 3 -252 23
                    -45 69 -80 123 -95 57 -16 319 -13 377 5 92 27 134 96 134 220 0 115 -48 190
                    -138 215 -48 13 -348 12 -387 -2z m313 -184 c29 -20 25 -54 -8 -71 -29 -15
                    -187 -17 -223 -4 -29 11 -40 36 -27 61 12 23 32 27 145 29 68 1 96 -3 113 -15z"/>
                    <path d="M1607 1460 c-157 -50 -265 -176 -298 -348 -15 -81 0 -177 42 -261 33
                    -66 123 -157 187 -190 166 -85 356 -59 494 68 117 107 164 273 124 431 -38
                    149 -154 266 -302 305 -77 20 -176 18 -247 -5z m231 -186 c124 -51 185 -207
                    128 -329 -42 -91 -128 -148 -226 -148 -140 -1 -250 108 -250 248 0 97 50 178
                    139 225 46 24 156 27 209 4z"/>
                    <path d="M3938 1461 c-209 -69 -334 -271 -299 -482 41 -249 293 -418 528 -355
                    176 47 302 184 333 363 30 174 -82 373 -256 455 -87 41 -217 49 -306 19z m230
                    -187 c139 -57 193 -240 109 -365 -106 -158 -342 -147 -430 21 -25 48 -28 63
                    -25 126 4 94 40 155 118 202 47 28 63 32 122 32 39 0 85 -7 106 -16z"/>
                    </g>
                    </svg>
                </div>
              </div>
              <div class="text-white text-center" *ngIf="!propaneTruck.last_delivery">
                {{ 'Sin entregas' | translate }}
              </div>
              <div class="text-white text-center" *ngIf="propaneTruck.last_delivery">
                <p class="text-center m-0">{{ 'Ultima entrega:' | translate }}</p>
                {{ propaneTruck.last_delivery }}
              </div>
            </div>

            <!-- Columna derecha -->
            <div class="bg-white text-gray-700 p-2 rounded shadow-sm w-1/2" id="items2">
              <span class="font-semibold m-0 truncate">{{ propaneTruck.plate }}</span><br />
              <span class="truncate m-0" title="{{ propaneTruck.operator }}">{{ propaneTruck.operator | truncate:13 }}</span><br />
              <hr class="my-1 w-3/4 mx-auto border-gray-300" />
              <div class="space-y-1">
                <span class="m-0">{{ 'Masa' | translate }}: {{ propaneTruck.delivered_mass }} Kg</span><br />
                <span class="m-0">{{ 'Volumen' | translate }}: {{ propaneTruck.delivered_volume }} Gl</span><br />
                <span class="m-0">{{ 'Pedidos' | translate }}: {{ propaneTruck.orders.length }} / {{ propaneTruck.completed_orders.length }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- LISTADO (1 o varios) -->
      <div *ngIf="viewMode === 'list'" class="space-y-1 w-full sm:w-5/6 max-w-5xl max-h-[400px] mx-auto">
        <div *ngFor="let propaneTruck of data"
          class="border-l-4 rounded-md shadow-sm bg-white p-2 flex justify-between items-start hover:shadow-md transition text-xs"
          [ngClass]="{
            'border-green-600': propaneTruck.last_criticality === 0,
            'border-orange-400': propaneTruck.last_criticality === 1,
            'border-red-600': propaneTruck.last_criticality === 2
          }">
          <div class="space-y-0.5">
            <div class="font-semibold text-gray-800 text-xs">{{ propaneTruck.plate }}</div>
            <div class="text-[11px] text-gray-500 truncate">{{ propaneTruck.operator }}</div>
            <div class="text-[11px] text-gray-500 italic mt-0.5">
              {{ propaneTruck.last_delivery ? propaneTruck.last_delivery : ('Sin entregas' | translate) }}
            </div>
          </div>
          <div class="text-right text-[11px] text-gray-600 space-y-0.5">
            <div>{{ 'Masa' | translate }}: {{ propaneTruck.delivered_mass }} Kg</div>
            <div>{{ 'Volumen' | translate }}: {{ propaneTruck.delivered_volume }} Gl</div>
            <div>{{ 'Pedidos' | translate }}: {{ propaneTruck.orders.length }} / {{ propaneTruck.completed_orders.length }}</div>
          </div>
        </div>
      </div>

    </div>

    <!-- MENSAJE: sin autotanques -->
    <div class="container flex justify-center" *ngIf="data.length < 1">
      <p class="text-sm text-gray-500 text-center p-4 rounded border border-dotted border-gray-400 mt-4">
        {{ 'No hay Auto Tanques en curso' | translate }}
      </p>
    </div>
  </div>
</div>
